<!DOCTYPE html>
<html lang="en">
<head>
    <title>인증번호 연습</title>
    <script>
        let mySwitch = false
        const getToken = () => {
            if(mySwitch === false){
                mySwitch = true
                // 1.인증번호 생성해서 화면에 보여주기
                const token = String(Math.floor(Math.random()*1000000)).padStart(6, "0")
                document.getElementById("token").innerText = token

                // 2. 시간초 타이머 생성해서 화면에 보여주기
                let time = 180
                setInterval(() => {
                    if(time >= 0){
                        const minutes = Math.floor(time / 60)
                        const seconds = String(time % 60).padStart(2, "0")

                        document.getElementById("timer").innerText = minutes + ":" + seconds
                        time = time - 1
                    }
                    if(time === 0) document.getElementById("mybutton").setAttribute("disabled", "true")
                }, 1000)
            }
        }
    </script>
</head>
<body>
    <span id="token">000000</span>
    <button onclick="getToken()">인증번호전송</button>
    <br />
    <span id="timer">3:00</span>
    <button id="mybutton">인증완료</button>
</body>
</html>